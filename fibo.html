<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fibonacci Trading Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
            width: 90%;
            max-width: 800px;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        h1 i {
            color: #fdbb2d;
            font-size: 36px;
        }
        
        .description {
            color: #34495e;
            margin-bottom: 25px;
            line-height: 1.6;
            font-size: 17px;
        }
        
        /* Selector giratorio mejorado */
        .wheel-selector {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .wheel-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 20px auto;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(#2ecc71 0deg 180deg, #e74c3c 180deg 360deg);
            position: relative;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            cursor: pointer;
        }
        
        .wheel-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 22px;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            z-index: 2;
            pointer-events: none;
        }
        
        .wheel-indicator {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 20px solid #2c3e50;
            z-index: 3;
            filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.3));
        }
        
        .wheel-label {
            position: absolute;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
        }
        
        .label-buy {
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
        }
        
        .label-sell {
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
        }
        
        .input-container {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .input-box {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .input-box label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 16px;
        }
        
        input {
            padding: 14px 18px;
            border: 2px solid #3498db;
            border-radius: 10px;
            font-size: 18px;
            width: 200px;
            transition: all 0.3s;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        input:focus {
            border-color: #2c3e50;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        button {
            background: linear-gradient(to right, #3498db, #2c3e50);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 17px;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.3);
        }
        
        button.clear {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }
        
        .results-container {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .results {
            text-align: left;
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            flex: 1;
            min-width: 300px;
        }
        
        .results h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .result-item {
            padding: 15px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.3s;
        }
        
        .result-item:hover {
            transform: translateY(-3px);
        }
        
        .result-item.extension {
            background: linear-gradient(to right, #fff8e1, #ffecb3);
        }
        
        .percentage {
            font-weight: bold;
            font-size: 18px;
        }
        
        .level-236 { color: #3498db; }
        .level-382 { color: #2ecc71; }
        .level-500 { color: #f39c12; }
        .level-618 { color: #e74c3c; }
        .level-786 { color: #9b59b6; }
        .level-1618 { color: #d35400; }
        .level-2618 { color: #16a085; }
        
        .fib-sequence {
            margin-top: 20px;
            font-style: italic;
            color: #7f8c8d;
            text-align: center;
            font-size: 16px;
            padding: 10px;
            background-color: #ebf5fb;
            border-radius: 8px;
        }
        
        .explanation {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(to right, #e8f4fc, #d6eaf8);
            border-radius: 12px;
            border-left: 5px solid #3498db;
        }
        
        .explanation h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .explanation p {
            line-height: 1.6;
            color: #34495e;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 25px 20px;
            }
            
            h1 {
                font-size: 28px;
            }
            
            .input-container {
                flex-direction: column;
                align-items: center;
            }
            
            input {
                width: 100%;
                max-width: 280px;
            }
            
            .buttons {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 100%;
                max-width: 280px;
                justify-content: center;
            }
            
            .results-container {
                flex-direction: column;
            }
            
            .wheel-container {
                width: 180px;
                height: 180px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 24px;
            }
            
            h1 i {
                font-size: 28px;
            }
            
            .wheel-container {
                width: 160px;
                height: 160px;
            }
            
            .wheel-text {
                font-size: 20px;
            }
            
            .label-buy, .label-sell {
                font-size: 18px;
            }
            
            input {
                padding: 12px 15px;
                font-size: 16px;
            }
            
            button {
                padding: 12px 20px;
                font-size: 16px;
            }
            
            .results {
                padding: 20px 15px;
            }
            
            .results h2 {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-chart-line"></i> OXXOMAXTRADING</h1>
        
        <p class="description">
            Programas de formación avanzada. Tecnología cuántica, inteligencia artificial y estrategias probadas para maximizar tus ganancias Protége siempre tu capital. Un buen trader sobrevive para operar otro día.
        </p>
        
        <div class="wheel-selector">
            <div class="wheel-container">
                <div class="wheel" id="mode-wheel">
                    <div class="wheel-text" id="wheel-mode">BUY</div>
                    <div class="wheel-indicator"></div>
                    <div class="wheel-label label-buy">BUY</div>
                    <div class="wheel-label label-sell">SELL</div>
                </div>
            </div>
        </div>
        
        <div class="input-container">
            <div class="input-box">
                <label for="fib1">Punto A:</label>
               <input type="number" id="fib2" placeholder="maximo" min="0">
            </div>
            <div class="input-box">
                <label for="fib2">Punto B:</label>
                
               <input type="number" id="fib1" placeholder="minimo" min="0">
            </div>
        </div>
        
        <div class="buttons">
            <button onclick="calculateLevels()">
                <i class="fas fa-calculator"></i> Calcular Niveles
            </button>
            <button class="clear" onclick="clearFields()">
                <i class="fas fa-broom"></i> Limpiar
            </button>
        </div>
        
        <div class="results-container">
            <div class="results" id="retracement-results" style="display: none;">
                <h2><i class="fas fa-level-down-alt"></i> Retrocesos</h2>
                <div class="result-grid" id="retracement-items"></div>
            </div>
            
            <div class="results" id="extension-results" style="display: none;">
                <h2><i class="fas fa-level-up-alt"></i> Extensiones</h2>
                <div class="result-grid" id="extension-items"></div>
            </div>
        </div>
        
        <p class="fib-sequence" id="sequence-info" style="display: none;"></p>
        
        <div class="explanation">
            <h3><i class="fas fa-lightbulb"></i> ¿Cómo funciona?</h3>
            <p>El trading es 80% psicología y 20% técnica. Controlar tus emociones es la clave del éxito.</p>
        </div>
    </div>

    <script>
        let currentMode = 'buy';
        let wheelRotation = 0;
        const wheel = document.getElementById('mode-wheel');
        const wheelText = document.getElementById('wheel-mode');
        
        // Configurar la rueda giratoria
        function setupWheel() {
            wheel.addEventListener('click', toggleMode);
            wheel.addEventListener('touchstart', handleTouchStart, false);
            wheel.addEventListener('touchmove', handleTouchMove, false);
            
            // Actualizar la rueda según el modo actual
            updateWheel();
        }
        
        let xDown = null;
        let yDown = null;
        
        function handleTouchStart(evt) {
            const firstTouch = evt.touches[0];
            xDown = firstTouch.clientX;
            yDown = firstTouch.clientY;
        }
        
        function handleTouchMove(evt) {
            if (!xDown || !yDown) {
                return;
            }
            
            const xUp = evt.touches[0].clientX;
            const yUp = evt.touches[0].clientY;
            
            const xDiff = xDown - xUp;
            const yDiff = yDown - yUp;
            
            if (Math.abs(xDiff) > Math.abs(yDiff)) {
                if (xDiff > 0) {
                    // Deslizar a la izquierda
                    setMode('sell');
                } else {
                    // Deslizar a la derecha
                    setMode('buy');
                }
            } else {
                if (yDiff > 0) {
                    // Deslizar hacia arriba
                    setMode('buy');
                } else {
                    // Deslizar hacia abajo
                    setMode('sell');
                }
            }
            
            // Reset values
            xDown = null;
            yDown = null;
        }
        
        function toggleMode() {
            setMode(currentMode === 'buy' ? 'sell' : 'buy');
        }
        
        function setMode(mode) {
            currentMode = mode;
            updateWheel();
            
            // Recalcular si ya hay datos
            if (document.getElementById('fib1').value && document.getElementById('fib2').value) {
                calculateLevels();
            }
        }
        
        function updateWheel() {
            if (currentMode === 'buy') {
                wheelRotation = 0;
                wheelText.textContent = 'BUY';
                wheelText.style.color = '#2ecc71';
            } else {
                wheelRotation = 180;
                wheelText.textContent = 'SELL';
                wheelText.style.color = '#e74c3c';
            }
            
            wheel.style.transform = `rotate(${wheelRotation}deg)`;
        }
        
        function calculateLevels() {
            const fib1 = parseFloat(document.getElementById('fib1').value);
            const fib2 = parseFloat(document.getElementById('fib2').value);
            
            if (isNaN(fib1) || isNaN(fib2) || fib1 < 0 || fib2 < 0) {
                alert("Por favor, ingresa dos números válidos (no negativos).");
                return;
            }
            
            if (fib1 === fib2) {
                alert("Los números no pueden ser iguales.");
                return;
            }
            
            // Asegurar que fib1 es el menor y fib2 el mayor para cálculos consistentes
            const min = Math.min(fib1, fib2);
            const max = Math.max(fib1, fib2);
            const difference = max - min;
            
            // Calcular el siguiente número de Fibonacci para verificar la secuencia
            const nextFib = min + max;
            
            // Calcular niveles según el modo
            let retracements = {};
            let extensions = {};
            
            if (currentMode === 'buy') {
                // Modo Buy: Retrocesos por debajo, extensiones por encima
                retracements = {
                    '78.6%': max - difference * 0.786,
                    '61.8%': max - difference * 0.618,
                    '50.0%': max - difference * 0.5,
                    '38.2%': max - difference * 0.382,
                    '23.6%': max - difference * 0.236
                };
                
                extensions = {
                    '161.8%': max + difference * 0.618,
                    '261.8%': max + difference * 1.618
                };
            } else {
                // Modo Sell: Retrocesos por encima, extensiones por debajo
                retracements = {
                    '78.6%': min + difference * 0.786,
                    '61.8%': min + difference * 0.618,
                    '50.0%': min + difference * 0.5,
                    '38.2%': min + difference * 0.382,
                    '23.6%': min + difference * 0.236
                };
                
                extensions = {
                    '161.8%': min - difference * 0.618,
                    '261.8%': min - difference * 1.618
                };
            }
            
            // Mostrar retrocesos
            const retracementItems = document.getElementById('retracement-items');
            retracementItems.innerHTML = '';
            
            for (const [level, value] of Object.entries(retracements)) {
                const item = document.createElement('div');
                item.className = 'result-item';
                
                // Determinar la clase para el color
                let colorClass = 'level-' + level.replace('.', '').replace('%', '');
                
                item.innerHTML = `
                    <span><strong>Nivel ${level}:</strong></span> 
                    <span class="percentage ${colorClass}">${value.toFixed(4)}</span>
                `;
                retracementItems.appendChild(item);
            }
            
            // Mostrar extensiones
            const extensionItems = document.getElementById('extension-items');
            extensionItems.innerHTML = '';
            
            for (const [level, value] of Object.entries(extensions)) {
                const item = document.createElement('div');
                item.className = 'result-item extension';
                
                // Determinar la clase para el color
                let colorClass = 'level-' + level.replace('.', '').replace('%', '');
                
                item.innerHTML = `
                    <span><strong>Nivel ${level}:</strong></span> 
                    <span class="percentage ${colorClass}">${value.toFixed(4)}</span>
                `;
                extensionItems.appendChild(item);
            }
            
            // Mostrar información de la secuencia
            document.getElementById('sequence-info').textContent = 
                `Basado en la secuencia: ..., ${min}, ${max}, ${nextFib}, ...`;
            
            document.getElementById('retracement-results').style.display = 'block';
            document.getElementById('extension-results').style.display = 'block';
            document.getElementById('sequence-info').style.display = 'block';
        }
        
        function clearFields() {
            document.getElementById('fib1').value = '';
            document.getElementById('fib2').value = '';
            document.getElementById('retracement-results').style.display = 'none';
            document.getElementById('extension-results').style.display = 'none';
            document.getElementById('sequence-info').style.display = 'none';
        }
        
        // Inicializar la rueda cuando el documento esté listo
        document.addEventListener('DOMContentLoaded', function() {
            setupWheel();
            
            // Permitir calcular con la tecla Enter
            const inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        calculateLevels();
                    }
                });
            });
        });
    </script>
</body>
</html>